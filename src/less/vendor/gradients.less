//
// CSS3 gradient mixins
//
// Available as:
// #gradient .custom(...)
// #gradient .horizontal(...)
// #gradient .vertical(...)
// #gradient .directional(...)
//

#gradient {

	// Horizontal

	.horizontal (@a, @b) {
		background: mix(@a, @b, 50%);
		#gradient .horizontal-skip(@a, @b);
	}
	.horizontal (@a, @b, @c) {
		background: mix(@a, @c, 50%);
		#gradient .horizontal-skip(@a, @b, @c);
	}
	.horizontal (@a, @b, @c, @d) {
		background: mix(@a, @d, 50%);
		#gradient .horizontal-skip(@a, @b, @d);
	}

	.horizontal-skip (@a, @b) {
		background: -webkit-linear-gradient(left, @a, @b);
		background:         linear-gradient(to right, @a, @b);
	}
	.horizontal-skip (@a, @b, @c) {
		background: -webkit-linear-gradient(left, @a, @b, @c);
		background:         linear-gradient(to right, @a, @b, @c);
	}
	.horizontal-skip (@a, @b, @c, @d) {
		background: -webkit-linear-gradient(left, @a, @b, @c, @d);
		background:         linear-gradient(to right, @a, @b, @c, @d);
	}

	.horizontal-custom (@fallback, @params) {
		background: @fallback;
		background: -webkit-linear-gradient(left, e(@params));
		background:         linear-gradient(to right, e(@params));
	}
	.horizontal-custom (@fallback, @params, before, @before) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(left, e(@params));
		background: e(@before),         linear-gradient(to right, e(@params));
	}
	.horizontal-custom (@fallback, @params, after, @after) {
		background: @fallback;
		background: -webkit-linear-gradient(left, e(@params)), e(@after);
		background:         linear-gradient(to right, e(@params)), e(@after);
	}
	.horizontal-custom (@fallback, @params, @before, @after) when not (@before = before) and not (@before = after) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(left, e(@params)), e(@after);
		background: e(@before),         linear-gradient(to right, e(@params)), e(@after);
	}


	// Vertical

	.vertical (@a, @b) {
		background: mix(@a, @b, 50%);
		#gradient .vertical-skip(@a, @b);
	}
	.vertical (@a, @b, @c) {
		background: mix(@a, @c, 50%);
		#gradient .vertical-skip(@a, @b, @c);
	}
	.vertical (@a, @b, @c, @d) {
		background: mix(@a, @d, 50%);
		#gradient .vertical-skip(@a, @b, @d);
	}

	.vertical-skip (@a, @b) {
		background: -webkit-linear-gradient(@a, @b);
		background:         linear-gradient(@a, @b);
	}
	.vertical-skip (@a, @b, @c) {
		background: -webkit-linear-gradient(@a, @b, @c);
		background:         linear-gradient(@a, @b, @c);
	}
	.vertical-skip (@a, @b, @c, @d) {
		background: -webkit-linear-gradient(@a, @b, @c, @d);
		background:         linear-gradient(@a, @b, @c, @d);
	}

	.vertical-custom (@fallback, @params) {
		background: @fallback;
		background: -webkit-linear-gradient(e(@params));
		background:         linear-gradient(e(@params));
	}
	.vertical-custom (@fallback, @params, before, @before) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(e(@params));
		background: e(@before),         linear-gradient(e(@params));
	}
	.vertical-custom (@fallback, @params, after, @after) {
		background: @fallback;
		background: -webkit-linear-gradient(e(@params)), e(@after);
		background:         linear-gradient(e(@params)), e(@after);
		// -pie-background:    linear-gradient(e(@params)), e(@after);
	}
	.vertical-custom (@fallback, @params, @before, @after) when not (@before = before) and not (@before = after) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(e(@params)), e(@after);
		background: e(@before),         linear-gradient(e(@params)), e(@after);
	}

	// Directional
	// TODO: fix @deg for the unprefixed syntax according to the latest specs

	.directional (@deg, @a, @b) {
		background: mix(@a, @b, 50%);
		background: -webkit-linear-gradient(@deg, @a, @b);
		background:         linear-gradient(@deg, @a, @b);
	}

	.directional-custom (@fallback, @deg, @params) {
		background: @fallback;
		background: -webkit-linear-gradient(@deg, e(@params));
		background:         linear-gradient(@deg, e(@params));
	}
	.directional-custom (@fallback, @deg, @params, before, @before) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(@deg, e(@params));
		background: e(@before),         linear-gradient(@deg, e(@params));
	}
	.directional-custom (@fallback, @deg, @params, after, @after) {
		background: @fallback;
		background: -webkit-linear-gradient(@deg, e(@params)), e(@after);
		background:         linear-gradient(@deg, e(@params)), e(@after);
	}
	.directional-custom (@fallback, @deg, @params, @before, @after) when not (@before = before) and not (@before = after) {
		background: @fallback;
		background: e(@before), -webkit-linear-gradient(@deg, e(@params)), e(@after);
		background: e(@before),         linear-gradient(@deg, e(@params)), e(@after);
	}


	// Radial

	.radial-custom (@fallback, @params) {
		background: @fallback;
		background: -webkit-radial-gradient(e(@params));
		background:         radial-gradient(e(@params));
		background-repeat: no-repeat;
	}
	.radial (@inner, @outer) {
		background: mix(@inner, @outer, 50%);
		background: -webkit-radial-gradient(circle, @inner, @outer);
		background:         radial-gradient(circle, @inner, @outer);
		background-repeat: no-repeat;
	}

}
